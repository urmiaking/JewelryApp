@inherits LayoutComponentBase

<MudRTLProvider RightToLeft="true">
    <MudThemeProvider @ref="@_mudThemeProvider" @bind-IsDarkMode="_darkMode" Theme="customTheme" />
    <MudDialogProvider />
    <MudSnackbarProvider />

    <MudLayout>
        <AppBar @bind-DrawerOpen="_drawerOpen" @bind-DarkModeState="_darkMode"></AppBar>

        <SideMenu DrawerOpen="_drawerOpen"></SideMenu>

        <MudMainContent>
            <MudContainer Class="mt-5" MaxWidth="MaxWidth.False">
                @Body
            </MudContainer>
        </MudMainContent>
    </MudLayout>

</MudRTLProvider>

@code {
    bool _drawerOpen = false;
    bool _darkMode = false;
    private MudThemeProvider? _mudThemeProvider;
    private MudTheme? customTheme = new()
        {
            Palette = new PaletteLight()
            {
                Primary = Colors.Blue.Default,
                Secondary = Colors.Green.Accent4,
                AppbarBackground = Colors.Purple.Darken2,
            },
            PaletteDark = new PaletteDark()
            {
                Primary = Colors.Blue.Lighten1
            },

            LayoutProperties = new LayoutProperties()
            {
                DrawerWidthLeft = "260px",
                DrawerWidthRight = "300px"
            },
            Typography = new Typography()
            {
                Default = new Default()
                {
                    FontFamily = new[] { "IRANSans", "Poppins", "Helvetica", "Arial", "sans-serif" }
                }
            }
        };

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    void DarkModeToggle()
    {
        _darkMode = !_darkMode;
    }
}